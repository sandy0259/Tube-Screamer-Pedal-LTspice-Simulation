Version 4
SHEET 1 3156 952
WIRE 1008 -192 976 -192
WIRE 1120 -192 1088 -192
WIRE 1440 -192 1408 -192
WIRE 1552 -192 1520 -192
WIRE 1568 -192 1552 -192
WIRE 1680 -192 1648 -192
WIRE 1888 -192 1840 -192
WIRE 2000 -192 1968 -192
WIRE 2016 -192 2000 -192
WIRE 2144 -192 2096 -192
WIRE 976 -128 976 -192
WIRE 1552 -128 1552 -192
WIRE 1840 -48 1840 -192
WIRE 1552 -16 1552 -64
WIRE -96 16 -288 16
WIRE 976 48 976 -48
WIRE 976 48 880 48
WIRE 1008 48 976 48
WIRE 1120 48 1120 -192
WIRE 1120 48 1072 48
WIRE -96 64 -160 64
WIRE 1840 64 1840 32
WIRE -288 96 -288 16
WIRE -160 96 -160 64
WIRE 1552 128 1552 64
WIRE 976 144 976 48
WIRE 1008 144 976 144
WIRE 1120 144 1120 48
WIRE 1120 144 1072 144
WIRE 1552 144 1552 128
WIRE 240 160 240 64
WIRE 1680 160 1680 -192
WIRE 1712 160 1680 160
WIRE 1840 160 1840 128
WIRE 1840 160 1792 160
WIRE 2400 160 2400 64
WIRE 2544 160 2544 64
WIRE -288 240 -288 176
WIRE -224 240 -288 240
WIRE -160 240 -160 176
WIRE -160 240 -224 240
WIRE 768 240 768 64
WIRE 976 256 976 144
WIRE 1008 256 976 256
WIRE 1120 256 1120 144
WIRE 1120 256 1072 256
WIRE 1568 272 1568 224
WIRE -224 288 -224 240
WIRE 432 288 432 16
WIRE 2736 288 2736 16
WIRE 32 336 -160 336
WIRE 128 336 96 336
WIRE 240 336 240 240
WIRE 240 336 208 336
WIRE 368 336 240 336
WIRE 2000 336 2000 -192
WIRE 2288 336 2000 336
WIRE 2400 336 2400 240
WIRE 2400 336 2288 336
WIRE 2432 336 2400 336
WIRE 2544 336 2544 240
WIRE 2544 336 2496 336
WIRE 2672 336 2544 336
WIRE 832 352 832 16
WIRE 1056 352 832 352
WIRE 1744 352 1744 288
WIRE 1056 368 1056 352
WIRE 1680 368 1680 160
WIRE 1712 368 1680 368
WIRE 976 384 976 256
WIRE 1024 384 976 384
WIRE 1840 384 1840 160
WIRE 1840 384 1776 384
WIRE 1120 400 1120 256
WIRE 1120 400 1088 400
WIRE 1200 400 1120 400
WIRE 1296 400 1200 400
WIRE 1408 400 1408 -192
WIRE 1408 400 1376 400
WIRE 1568 400 1568 352
WIRE 1568 400 1408 400
WIRE 1712 400 1568 400
WIRE -160 416 -160 336
WIRE 432 416 432 384
WIRE 512 416 432 416
WIRE 592 416 512 416
WIRE 768 416 768 320
WIRE 768 416 656 416
WIRE 1024 416 768 416
WIRE 2736 416 2736 384
WIRE 2816 416 2736 416
WIRE 2928 416 2896 416
WIRE 3008 416 2992 416
WIRE 3024 416 3008 416
WIRE 880 464 880 48
WIRE 3024 480 3024 416
WIRE 432 544 432 416
WIRE 2736 544 2736 416
WIRE 1408 560 1408 400
WIRE 880 592 880 528
WIRE 3024 592 3024 560
WIRE -160 736 -160 496
WIRE 224 736 -160 736
WIRE 432 736 432 624
WIRE 432 736 224 736
WIRE 880 736 880 672
WIRE 880 736 432 736
WIRE 960 736 880 736
WIRE 1056 736 1056 432
WIRE 1056 736 960 736
WIRE 1408 736 1408 624
WIRE 1408 736 1056 736
WIRE 1616 736 1408 736
WIRE 1744 736 1744 416
WIRE 1744 736 1616 736
WIRE 2512 736 1744 736
WIRE 2736 736 2736 624
WIRE 2736 736 2512 736
WIRE 224 800 224 736
WIRE 1616 816 1616 736
WIRE 2512 816 2512 736
WIRE 960 832 960 736
FLAG 224 800 0
FLAG 512 416 Vbuf
FLAG 1200 400 Vclip
FLAG -96 16 V9P0
FLAG 432 16 V9P0
FLAG 832 16 V9P0
FLAG -96 64 V4P5
FLAG 240 64 V4P5
FLAG 768 64 V4P5
FLAG 1744 288 V9P0
FLAG 1568 224 V4P5
FLAG 1552 128 0
FLAG 2144 -192 V4P5
FLAG 3008 416 Vout
FLAG 2736 16 V9P0
FLAG 2544 64 V4P5
FLAG 2400 64 V4P5
FLAG 2288 336 Vtone
FLAG 2512 816 0
FLAG 1616 816 0
FLAG 960 832 0
FLAG -224 288 0
FLAG 3024 592 0
SYMBOL npn 368 288 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res 416 528 R0
SYMATTR InstName R1
SYMATTR Value 10K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 224 144 R0
SYMATTR InstName R2
SYMATTR Value 511K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 224 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap 96 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.022µ
SYMATTR SpiceLine V=10 Irms=322m Rser=0.472482 Lser=0 mfg="KEMET" pn="C0603C223K8RAC" type="X7R"
SYMBOL cap 656 400 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µ
SYMATTR SpiceLine V=10 Irms=8.5 Rser=0.0114292 Lser=0 mfg="KEMET" pn="C0402C105K8PAC" type="X5R"
SYMBOL voltage -160 80 R0
SYMATTR InstName V1
SYMATTR Value 4.5
SYMATTR SpiceLine Rser=0
SYMBOL voltage -288 80 R0
SYMATTR InstName V2
SYMATTR Value 9
SYMATTR SpiceLine Rser=0
SYMBOL voltage -160 400 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 0.7
SYMATTR InstName V3
SYMATTR Value ""
SYMBOL res 752 224 R0
SYMATTR InstName R4
SYMATTR Value 475K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap 1072 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 51p
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GCM0335C1E510JA16" type="C0G"
SYMBOL diode 1072 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 1008 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 960 -144 R0
SYMATTR InstName R5
SYMATTR Value 49.9K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 864 576 R0
SYMATTR InstName R6
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap 864 464 R0
SYMATTR InstName C5
SYMATTR Value 10µ
SYMATTR SpiceLine V=10 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM188Z71A106MA73" type="X7R"
SYMBOL res 1104 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {Rgain}
SYMBOL Opamps/LT1214 1056 336 R0
SYMATTR InstName U2
SYMBOL res 1392 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap 1392 560 R0
SYMATTR InstName C3
SYMATTR Value 0.22µ
SYMATTR SpiceLine V=10 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM033R61A273KE84" type="X5R"
SYMBOL res 1552 256 R0
SYMATTR InstName R9
SYMATTR Value 10K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL Opamps/LT1214 1744 320 R0
SYMATTR InstName U1
SYMBOL res 1808 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap 1536 -128 R0
SYMATTR InstName C6
SYMATTR Value 0.22µ
SYMATTR SpiceLine V=10 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM033R61A273KE84" type="X5R"
SYMBOL res 1536 -32 R0
SYMATTR InstName R11
SYMATTR Value 200
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1536 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -61 95 VTop 2
SYMATTR InstName R12
SYMATTR Value {20k - Rtone + 1}
SYMBOL cap 1856 128 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C7
SYMATTR Value 1µ
SYMATTR SpiceLine V=10 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM033R61A105ME15" type="X5R"
SYMBOL res 1856 48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1984 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -62 68 VTop 2
SYMATTR InstName R15
SYMATTR Value {100k - Rlevel + 1}
SYMBOL res 2112 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 38 29 VTop 2
SYMATTR InstName R16
SYMATTR Value {Rlevel+1}
SYMBOL npn 2672 288 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 2720 528 R0
SYMATTR InstName R17
SYMATTR Value 10K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 2528 144 R0
SYMATTR InstName R18
SYMATTR Value 511K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap 2496 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 1µ
SYMATTR SpiceLine V=10 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM033R61A105ME15" type="X5R"
SYMBOL res 2384 144 R0
SYMATTR InstName R19
SYMATTR Value 511K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1664 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -30 -31 VTop 2
SYMATTR InstName R20
SYMATTR Value {Rtone + 1}
SYMBOL res 2912 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 22.1
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap 2992 400 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 10µ
SYMATTR SpiceLine V=16 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BZ71C106KE15" type="X7R"
SYMBOL res 3008 464 R0
SYMATTR InstName R21
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
TEXT -152 552 Left 2 !.ac dec 100 20 20k
TEXT 80 -392 Left 4 ;Input Buffer
TEXT 704 -392 Left 4 ;Clipping Stage
TEXT 704 -344 Left 2 ;NOTE: R7 is Drive pot (1-500k, log)
TEXT 704 -304 Left 2 !.param Rgain=300k
TEXT 1400 -392 Left 4 ;Tone/Volume Stage
TEXT 1400 -344 Left 2 ;NOTE: R13 is tone pot (1-20k, linear)
TEXT 1400 -304 Left 2 !.param Rtone=10k
TEXT 1840 -344 Left 2 ;NOTE: R15 is level pot (1-100k, log)
TEXT 1840 -304 Left 2 !.param Rlevel=100k
TEXT 2248 -392 Left 4 ;Output Buffer
TEXT -280 -304 Left 2 ;NOTE: There are three simulations available for this circuit: gain, tone, and level. Gain \nand tone are likely the most interesting, as level is just changing the output voltage \nmagnitude. You can select which simulation to run by selecting this text box, copying \nthe sim statement from this note, and pasting it into the sim directive below. (The sim \ndirective is the black text below the blue note text.)\nGAIN SIM:\n.step param Rgain list 1k 5k 10k 50k 100k 500k\nTONE SIM:\n.step param Rtone list 1k 2k 5k 10k 12k 15k 20k\nLEVEL SIM:\n.step param Rlevel list 1k 2k 5k 10k 20k 50k 100k
TEXT 792 712 Left 2 ;critical HPF for the freq.\nresponce of the overall circuit
LINE Normal 688 -196 688 948 2
LINE Normal 1264 -196 1264 948 2
LINE Normal 68 -356 2372 -364
LINE Normal 2276 -364 2660 -364
LINE Normal 2240 -196 2240 948 2
RECTANGLE Normal 944 688 848 464 3
